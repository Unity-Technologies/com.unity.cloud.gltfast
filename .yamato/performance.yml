# Auto-generated by Recipe Engine, do not modify manually.
# Contains jobs that run performance tests.
performance_2022_3_win:
  name: Performance_2022.3_Win
  agent:
    image: package-ci/win11:v4
    type: Unity::VM
    flavor: b1.large
  commands:
  - command: unity-downloader-cli --unity-version 2022.3 --path Editor --wait -c editor -c il2cpp
    timeout: 10
    retries: 3
  - command: Editor\Unity.exe -projectPath Projects/glTFast-Test -batchmode -nographics -executeMethod GLTFast.Editor.Tests.SetupProject.ApplySetup glTFastSetup:performance -upmNoDefaultPackages -logfile test-results~/enable-performance-tests.log -quit
  - command: UnifiedTestRunner.exe --suite=playmode --scripting-backend=il2cpp --platform=StandaloneWindows64 --editor-location=Editor --testproject=Projects/glTFast-Test --artifacts-path=test-results~ --category=Performance --report-performance-data --performance-project-id=com.unity.cloud.gltfast --extra-editor-arg=-upmNoDefaultPackages
    timeout: 20
    retries: 2
  artifacts:
    logs:
      paths:
      - test-results~/**/*
performance_6000_0_win:
  name: Performance_6000.0_Win
  agent:
    image: package-ci/win11:v4
    type: Unity::VM
    flavor: b1.large
  commands:
  - command: unity-downloader-cli --unity-version 6000.0 --path Editor --wait -c editor -c il2cpp
    timeout: 10
    retries: 3
  - command: Editor\Unity.exe -projectPath Projects/glTFast-Test -batchmode -nographics -executeMethod GLTFast.Editor.Tests.SetupProject.ApplySetup glTFastSetup:performance -upmNoDefaultPackages -logfile test-results~/enable-performance-tests.log -quit
  - command: UnifiedTestRunner.exe --suite=playmode --scripting-backend=il2cpp --platform=StandaloneWindows64 --editor-location=Editor --testproject=Projects/glTFast-Test --artifacts-path=test-results~ --category=Performance --report-performance-data --performance-project-id=com.unity.cloud.gltfast --extra-editor-arg=-upmNoDefaultPackages
    timeout: 20
    retries: 2
  artifacts:
    logs:
      paths:
      - test-results~/**/*
performance_6000_2_win:
  name: Performance_6000.2_Win
  agent:
    image: package-ci/win11:v4
    type: Unity::VM
    flavor: b1.large
  commands:
  - command: unity-downloader-cli --unity-version 6000.2 --path Editor --wait -c editor -c il2cpp
    timeout: 10
    retries: 3
  - command: Editor\Unity.exe -projectPath Projects/glTFast-Test -batchmode -nographics -executeMethod GLTFast.Editor.Tests.SetupProject.ApplySetup glTFastSetup:performance -upmNoDefaultPackages -logfile test-results~/enable-performance-tests.log -quit
  - command: UnifiedTestRunner.exe --suite=playmode --scripting-backend=il2cpp --platform=StandaloneWindows64 --editor-location=Editor --testproject=Projects/glTFast-Test --artifacts-path=test-results~ --category=Performance --report-performance-data --performance-project-id=com.unity.cloud.gltfast --extra-editor-arg=-upmNoDefaultPackages
    timeout: 20
    retries: 2
  artifacts:
    logs:
      paths:
      - test-results~/**/*
performance_6000_3_win:
  name: Performance_6000.3_Win
  agent:
    image: package-ci/win11:v4
    type: Unity::VM
    flavor: b1.large
  commands:
  - command: unity-downloader-cli --unity-version 6000.3 --path Editor --wait -c editor -c il2cpp
    timeout: 10
    retries: 3
  - command: Editor\Unity.exe -projectPath Projects/glTFast-Test -batchmode -nographics -executeMethod GLTFast.Editor.Tests.SetupProject.ApplySetup glTFastSetup:performance -upmNoDefaultPackages -logfile test-results~/enable-performance-tests.log -quit
  - command: UnifiedTestRunner.exe --suite=playmode --scripting-backend=il2cpp --platform=StandaloneWindows64 --editor-location=Editor --testproject=Projects/glTFast-Test --artifacts-path=test-results~ --category=Performance --report-performance-data --performance-project-id=com.unity.cloud.gltfast --extra-editor-arg=-upmNoDefaultPackages
    timeout: 20
    retries: 2
  artifacts:
    logs:
      paths:
      - test-results~/**/*
performance_6000_4_win:
  name: Performance_6000.4_Win
  agent:
    image: package-ci/win11:v4
    type: Unity::VM
    flavor: b1.large
  commands:
  - command: unity-downloader-cli --unity-version 6000.4 --path Editor --wait -c editor -c il2cpp
    timeout: 10
    retries: 3
  - command: Editor\Unity.exe -projectPath Projects/glTFast-Test -batchmode -nographics -executeMethod GLTFast.Editor.Tests.SetupProject.ApplySetup glTFastSetup:performance -upmNoDefaultPackages -logfile test-results~/enable-performance-tests.log -quit
  - command: UnifiedTestRunner.exe --suite=playmode --scripting-backend=il2cpp --platform=StandaloneWindows64 --editor-location=Editor --testproject=Projects/glTFast-Test --artifacts-path=test-results~ --category=Performance --report-performance-data --performance-project-id=com.unity.cloud.gltfast --extra-editor-arg=-upmNoDefaultPackages
    timeout: 20
    retries: 2
  artifacts:
    logs:
      paths:
      - test-results~/**/*
performance_6000_5_win:
  name: Performance_6000.5_Win
  agent:
    image: package-ci/win11:v4
    type: Unity::VM
    flavor: b1.large
  commands:
  - command: unity-downloader-cli --unity-version 6000.5 --path Editor --wait -c editor -c il2cpp
    timeout: 10
    retries: 3
  - command: Editor\Unity.exe -projectPath Projects/glTFast-Test -batchmode -nographics -executeMethod GLTFast.Editor.Tests.SetupProject.ApplySetup glTFastSetup:performance -upmNoDefaultPackages -logfile test-results~/enable-performance-tests.log -quit
  - command: UnifiedTestRunner.exe --suite=playmode --scripting-backend=il2cpp --platform=StandaloneWindows64 --editor-location=Editor --testproject=Projects/glTFast-Test --artifacts-path=test-results~ --category=Performance --report-performance-data --performance-project-id=com.unity.cloud.gltfast --extra-editor-arg=-upmNoDefaultPackages
    timeout: 20
    retries: 2
  artifacts:
    logs:
      paths:
      - test-results~/**/*

# Runs all performance jobs.
performance_all:
  name: Performance_All
  dependencies:
  - path: .yamato/performance.yml#performance_2022_3_win
  - path: .yamato/performance.yml#performance_6000_0_win
  - path: .yamato/performance.yml#performance_6000_2_win
  - path: .yamato/performance.yml#performance_6000_3_win
  - path: .yamato/performance.yml#performance_6000_4_win
  - path: .yamato/performance.yml#performance_6000_5_win

